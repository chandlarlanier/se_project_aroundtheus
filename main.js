!function(){"use strict";class e{constructor(e,t){let{data:s,handleImageClick:r,handleDelete:i,confirmPopup:n,api:o}=e;this._name=s.name,this._link=s.link,this._id=s._id,this._isLiked=s.isLiked,this._handleImageClick=r,this._handleDelete=i,this._confirmPopup=n,this._api=o,this._cardSelector=t}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getId(){return this._id}removeCard(){this._cardElement.remove(),this._cardElement=null}_handleLikeIcon(){this._likeButton.classList.toggle("card__like-button_active"),this._cardElement.querySelector(".card__like-button_active")?this._api.likeCard(this.getId()).catch((e=>{console.error(e)})):this._api.unlikeCard(this.getId()).catch((e=>{console.error(e)}))}_setLike(){this._isLiked&&this._likeButton.classList.add("card__like-button_active")}_setEventListeners(){this._likeButton.addEventListener("click",(()=>this._handleLikeIcon())),this._binIcon.addEventListener("click",(()=>{this._handleDelete(this,this.getId())})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick({link:this._link,name:this._name})}))}generateCard(){return this._cardElement=this._getTemplate(),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._binIcon=this._cardElement.querySelector(".card__delete-button"),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardDescription=this._cardElement.querySelector(".card__description"),this._setEventListeners(),this._setLike(),this._cardImage.src=this._link,this._cardImage.alt=`Photo of ${this._name}`,this._cardDescription.textContent=this._name,this._cardElement}}class t{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}_handleEscClose(e){"Escape"==e.key&&this.close()}setEventListeners(){this._popupElement.querySelector(".popup__close-button").addEventListener("mousedown",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{e.target.classList.contains("popup")&&this.close()}))}}class s extends t{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".popup__form"),this._submitButton=this._popupElement.querySelector(".popup__button"),this._submitButtonText=this._submitButton.textContent,this._handleFormSubmit=t,this._inputList=[...this._popupForm.querySelectorAll(".popup__input")]}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=e?t:this._submitButtonText}close(){super.close(),this._popupForm.reset()}_getInputValues(){const e={};for(const t of this._inputList)e[t.name]=t.value;return e}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this.renderLoading(!0),this._handleFormSubmit(this._getInputValues()).then((()=>{this.close()})).finally((()=>{this.renderLoading(!1)}))}))}}class r{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}_showInputError(e,t){const s=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),s.textContent=t,s.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}disableButton(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0}_enableButton(){this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1}toggleButtonState(){this._hasInvalidInput()?this.disableButton():this._enableButton()}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}document.querySelector(".profile__title"),document.querySelector(".profile__description"),document.querySelector(".popup__input_type_name"),document.querySelector(".popup__input_type_description");const i=document.forms["popup__form_type_edit-profile"],n=document.forms["popup__form_type_add-card"],o=document.forms["popup__form_type_edit-avatar"],a=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_request(e,t){return fetch(e,t).then(this._checkResponse)}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getUserInfo(){return this._request(`${this._baseUrl}/users/me`,{method:"GET",headers:this._headers})}addCard(e){return this._request(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify(e)})}deleteCard(e){return this._request(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers})}likeCard(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers,body:JSON.stringify({isLiked:!0})})}unlikeCard(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers})}getInitialCards(){return this._request(`${this._baseUrl}/cards`,{method:"GET",headers:this._headers})}updateProfileInfo(e){return this._request(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})})}updateAvatar(e){return this._request(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"9ef0145a-4550-4d8d-9dc2-252c6d573e29","content-type":"application/json"}});function l(e){console.error(e)}const _=new class extends t{constructor(e){let{popupSelector:t,handleConfirm:s}=e;super(t),this._confirmButton=this._popupElement.querySelector(".popup__button"),this._handleConfirm=s}open(e,t){super.open(),this._card=e,this._cardId=t}setEventListeners(){super.setEventListeners(),this._confirmButton.addEventListener("click",(()=>{this._handleConfirm(this._card,this._cardId).then((()=>{this.close()}))}))}}({popupSelector:".popup_type_delete-card",handleConfirm:(e,t)=>a.deleteCard(t).then((()=>{e.removeCard()})).catch(l)}),u=t=>{const s=new e({data:t,handleImageClick:e=>{d.open(e)},handleDelete:(e,t)=>{_.open(e,t)},confirmPopup:_,api:a},".card-template");h.addItem(s.generateCard())},d=new class extends t{constructor(e){super(e),this._imageElement=this._popupElement.querySelector(".popup__image"),this._imageCaption=this._popupElement.querySelector(".popup__heading_type_preview-image")}open(e){this._imageCaption.textContent=e.name,this._imageElement.src=e.link,this._imageElement.alt=`Photo of ${e.name}`,super.open()}}(".popup_type_preview-image"),h=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._element=document.querySelector(t)}renderItems(e){e.forEach((e=>{this._renderer(e)}))}addItem(e){this._element.prepend(e)}}({renderer:u},".cards__list"),c=new class{constructor(e){let{nameSelector:t,aboutMeSelector:s,avatarSelector:r}=e;this._nameElement=document.querySelector(t),this._aboutMeElement=document.querySelector(s),this._avatarElement=document.querySelector(r)}getUserInfo(){return{name:this._nameElement.textContent,about:this._aboutMeElement.textContent,avatar:this._avatarElement.src}}setUserInfo(e){let{name:t,about:s,avatar:r}=e;this._nameElement.textContent=t,this._aboutMeElement.textContent=s,this._avatarElement.src=r}}({nameSelector:".profile__title",aboutMeSelector:".profile__description",avatarSelector:".profile__image"});Promise.all([a.getUserInfo(),a.getInitialCards()]).then((e=>{let[t,s]=e;c.setUserInfo(t),h.renderItems(s.reverse())})).catch(l);const p=new s(".popup_type_edit-profile",(e=>a.updateProfileInfo(e).then((e=>{c.setUserInfo(e)})).catch(l))),m=new s(".popup_type_add-card",(e=>a.addCard(e).then((e=>{u(e)})).catch(l))),E=new s(".popup_type_edit-avatar",(e=>a.updateAvatar(e).then((e=>{c.setUserInfo(e)})).catch(l))),v={};var b;b={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(b.formSelector)).forEach((e=>{const t=new r(b,e),s=e.getAttribute("name");v[s]=t,t.enableValidation()})),d.setEventListeners(),p.setEventListeners(),E.setEventListeners(),m.setEventListeners(),_.setEventListeners(),document.querySelector(".profile__edit-button").addEventListener("mousedown",(()=>{p.setInputValues(c.getUserInfo()),v[i.getAttribute("name")].disableButton(),p.open()})),document.querySelector(".profile__add-button").addEventListener("mousedown",(()=>{v[n.getAttribute("name")].disableButton(),m.open()})),document.querySelector(".profile__edit-image").addEventListener("mousedown",(()=>{v[o.getAttribute("name")].disableButton(),E.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFnQjZFLGFBQWEsU0FBU3BGLGdCQUNyRDZFLEVBQWlCekksTUFBTSxJQUdIbEMsU0FBU0MsY0FBYyx3QkFDL0JvQixpQkFBaUIsYUFBYSxLQUMxQ3lKLEVBQWV2RSxFQUFZMkUsYUFBYSxTQUFTcEYsZ0JBQ2pEOEUsRUFBYTFJLE1BQU0sSUFHR2xDLFNBQVNDLGNBQWMsd0JBQy9Cb0IsaUJBQWlCLGFBQWEsS0FDNUN5SixFQUFldEUsRUFBZTBFLGFBQWEsU0FBU3BGLGdCQUNwRCtFLEVBQWdCM0ksTUFBTSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7IGRhdGEsIGhhbmRsZUltYWdlQ2xpY2ssIGhhbmRsZURlbGV0ZSwgY29uZmlybVBvcHVwLCBhcGkgfSwgY2FyZFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5faXNMaWtlZCA9IGRhdGEuaXNMaWtlZDtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGUgPSBoYW5kbGVEZWxldGU7XG4gICAgdGhpcy5fY29uZmlybVBvcHVwID0gY29uZmlybVBvcHVwO1xuICAgIHRoaXMuX2FwaSA9IGFwaTtcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gIH1cblxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuXG4gIGdldElkKCkge1xuICAgIHJldHVybiB0aGlzLl9pZDtcbiAgfVxuXG5cbiAgcmVtb3ZlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH1cblxuXG4gIF9oYW5kbGVMaWtlSWNvbigpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgaWYgKHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpKSB7XG4gICAgICB0aGlzLl9hcGkubGlrZUNhcmQodGhpcy5nZXRJZCgpKVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYXBpLnVubGlrZUNhcmQodGhpcy5nZXRJZCgpKVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfSlcbiAgICB9XG4gIH1cblxuXG4gIF9zZXRMaWtlKCkge1xuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgfVxuICB9XG5cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlTGlrZUljb24oKSk7XG4gICAgdGhpcy5fYmluSWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlKHRoaXMsIHRoaXMuZ2V0SWQoKSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soeyBsaW5rOiB0aGlzLl9saW5rLCBuYW1lOiB0aGlzLl9uYW1lIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG5cbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9iaW5JY29uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZERlc2NyaXB0aW9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZXNjcmlwdGlvblwiKTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fc2V0TGlrZSgpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IGBQaG90byBvZiAke3RoaXMuX25hbWV9YDtcbiAgICB0aGlzLl9jYXJkRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbLi4udGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpXTtcbiAgfVxuXG5cbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0PVwiU2F2aW5nLi4uXCIpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uVGV4dDtcbiAgICB9XG4gIH1cblxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XG4gIH1cblxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgaW5wdXQgb2YgdGhpcy5faW5wdXRMaXN0KSB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XG4gIH1cblxuICBcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xuICAgIH0pXG4gIH1cblxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9KVxuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgfVxuXG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvclxuICAgICAgKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG5cbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JcbiAgICAgIChgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG5cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cblxuICBkaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG5cbiAgX2VuYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cblxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbmFibGVCdXR0b24oKTtcbiAgICB9XG4gIH1cblxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG5cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfTtcbn07XG4iLCJleHBvcnQgY29uc3QgRVNDX0tFWUNPREUgPSAyNztcblxuZXhwb3J0IGNvbnN0IHVzZXJOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIik7XG5leHBvcnQgY29uc3QgdXNlckpvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfbmFtZVwiKTtcbmV4cG9ydCBjb25zdCBhYm91dElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9kZXNjcmlwdGlvblwiKTtcblxuLy8gU2VsZWN0b3JzXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzID0ge1xuICBjYXJkTGlzdDogXCIuY2FyZHNfX2xpc3RcIixcbiAgY2FyZFRlbXBsYXRlOiBcIi5jYXJkLXRlbXBsYXRlXCIsXG4gIHByZXZpZXdQb3B1cDogXCIucG9wdXBfdHlwZV9wcmV2aWV3LWltYWdlXCIsXG4gIGVkaXRQcm9maWxlUG9wdXA6IFwiLnBvcHVwX3R5cGVfZWRpdC1wcm9maWxlXCIsXG4gIGVkaXRBdmF0YXJQb3B1cDogXCIucG9wdXBfdHlwZV9lZGl0LWF2YXRhclwiLFxuICBhZGRDYXJkUG9wdXA6IFwiLnBvcHVwX3R5cGVfYWRkLWNhcmRcIixcbiAgZGVsZXRlQ2FyZFBvcHVwOiBcIi5wb3B1cF90eXBlX2RlbGV0ZS1jYXJkXCIsXG4gIG5hbWVFbGVtZW50OiBcIi5wcm9maWxlX190aXRsZVwiLFxuICBkZXNjcmlwdGlvbkVsZW1lbnQ6IFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXG4gIGF2YXRhckVsZW1lbnQ6IFwiLnByb2ZpbGVfX2ltYWdlXCJcbn1cblxuLy8gVmFsaWRhdGlvbiBTZXR0aW5nc1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25TZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXG59O1xuXG5cbi8vIEZvcm1zXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwb3B1cF9fZm9ybV90eXBlX2VkaXQtcHJvZmlsZVwiXTtcbmV4cG9ydCBjb25zdCBhZGRDYXJkRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wicG9wdXBfX2Zvcm1fdHlwZV9hZGQtY2FyZFwiXTtcbmV4cG9ydCBjb25zdCBlZGl0QXZhdGFyRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wicG9wdXBfX2Zvcm1fdHlwZV9lZGl0LWF2YXRhclwiXTtcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCB7IHNlbGVjdG9ycywgdmFsaWRhdGlvblNldHRpbmdzLCBwcm9maWxlRWRpdEZvcm0sIGFkZENhcmRGb3JtLCBlZGl0QXZhdGFyRm9ybSB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uXCI7XG5cblxuLy8gSW5pdGlhbGl6ZSBhcGlcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI5ZWYwMTQ1YS00NTUwLTRkOGQtOWRjMi0yNTJjNmQ1NzNlMjlcIixcbiAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICB9XG59KTtcblxuXG5cbi8vIERlZmluZSBjYXRjaCBlcnJvciBmdW5jdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGNhdGNoRXJyb3IoZXJyKSB7XG4gIGNvbnNvbGUuZXJyb3IoZXJyKTtcbn1cblxuXG5cbi8vIERlZmluZSBzdWJtaXQgYWN0aW9uIGZ1bmN0aW9uIGZvciBjb25maXJtIGRlbGV0ZSBjYXJkIHBvcHVwXG5jb25zdCBzdWJtaXRBY3Rpb24gPSAoY2FyZCwgY2FyZElkKSA9PiB7XG4gIHJldHVybiBhcGkuZGVsZXRlQ2FyZChjYXJkSWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY2F0Y2hFcnJvcilcbn1cblxuXG5cbi8vIENyZWF0ZSBkZWxldGUgY2FyZCBwb3B1cCBvYmplY3RcbmNvbnN0IGRlbGV0ZUNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oe1xuICBwb3B1cFNlbGVjdG9yOiBzZWxlY3RvcnMuZGVsZXRlQ2FyZFBvcHVwLFxuICBoYW5kbGVDb25maXJtOiBzdWJtaXRBY3Rpb25cbn0pO1xuXG5cblxuLy8gRGVmaW5lIGNhcmQgcmVuZGVyZXIgZnVuY3Rpb25cbmNvbnN0IHJlbmRlckNhcmQgPSAoZGF0YSkgPT4ge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKFxuICAgIHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBoYW5kbGVJbWFnZUNsaWNrOiAoaW1nRGF0YSkgPT4ge1xuICAgICAgICBjYXJkUHJldmlld1BvcHVwLm9wZW4oaW1nRGF0YSk7XG4gICAgICB9LFxuICAgICAgaGFuZGxlRGVsZXRlOiAoY2FyZCwgY2FyZElkKSA9PiB7XG4gICAgICAgIGRlbGV0ZUNhcmRQb3B1cC5vcGVuKGNhcmQsIGNhcmRJZCk7XG4gICAgICB9LFxuICAgICAgY29uZmlybVBvcHVwOiBkZWxldGVDYXJkUG9wdXAsXG4gICAgICBhcGk6IGFwaVxuICAgIH0sXG4gICAgc2VsZWN0b3JzLmNhcmRUZW1wbGF0ZVxuICApO1xuICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50LmdlbmVyYXRlQ2FyZCgpKTtcbn1cblxuXG5cbi8vIENyZWF0ZSBjYXJkIGFuZCBjYXJkIGltYWdlIHBvcHVwIG9iamVjdHNcbmV4cG9ydCBjb25zdCBjYXJkUHJldmlld1BvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKHNlbGVjdG9ycy5wcmV2aWV3UG9wdXApO1xuZXhwb3J0IGNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oeyByZW5kZXJlcjogcmVuZGVyQ2FyZCB9LCBzZWxlY3RvcnMuY2FyZExpc3QpO1xuXG5cblxuLy8gQ3JlYXRlIHVzZXIgaW5mbyBvYmplY3RcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtuYW1lU2VsZWN0b3I6IHNlbGVjdG9ycy5uYW1lRWxlbWVudCwgYWJvdXRNZVNlbGVjdG9yOiBzZWxlY3RvcnMuZGVzY3JpcHRpb25FbGVtZW50LCBhdmF0YXJTZWxlY3Rvcjogc2VsZWN0b3JzLmF2YXRhckVsZW1lbnR9KTtcblxuXG5cbi8vIEdldCBpbml0aWFsIHVzZXIgZGF0YSBhbmQgY2FyZHNcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcbiAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZHNdKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xuICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKGNhcmRzLnJldmVyc2UoKSk7XG4gIH0pXG4gIC5jYXRjaChjYXRjaEVycm9yKTtcblxuXG5cbi8vIENyZWF0ZSBwb3B1cHMgd2l0aCBmb3JtIG9iamVjdHNcbmNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMuZWRpdFByb2ZpbGVQb3B1cCwgKGRhdGEpID0+IHtcbiAgcmV0dXJuIGFwaS51cGRhdGVQcm9maWxlSW5mbyhkYXRhKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goY2F0Y2hFcnJvcik7XG59KTtcblxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oc2VsZWN0b3JzLmFkZENhcmRQb3B1cCwgKGRhdGEpID0+IHtcbiAgcmV0dXJuIGFwaS5hZGRDYXJkKGRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgcmVuZGVyQ2FyZChyZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNhdGNoRXJyb3IpO1xufSk7XG5cbmNvbnN0IGVkaXRBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHNlbGVjdG9ycy5lZGl0QXZhdGFyUG9wdXAsIChkYXRhKSA9PiB7XG4gIHJldHVybiBhcGkudXBkYXRlQXZhdGFyKGRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzKTtcbiAgICB9KVxuICAgIC5jYXRjaChjYXRjaEVycm9yKTtcbn0pO1xuXG5cblxuLy8gRGVmaW5lIGZvcm0gdmFsaWRhdG9ycyBhbmQgZW5hYmxlIHZhbGlkYXRpb25cbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XG5cbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKVxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpO1xuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG5cbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSlcbn1cblxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uU2V0dGluZ3MpO1xuXG5cblxuLy8gU2V0IHBvcHVwIGV2ZW50IGxpc3RlbmVyc1xuY2FyZFByZXZpZXdQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuZWRpdFByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuZWRpdEF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hZGRDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmRlbGV0ZUNhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5cblxuLy8gQWRkIGV2ZW50IGxpc3RlbmVycyB0byBidXR0b25zIGFuZCBwcm9maWxlIGltYWdlXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICgpID0+IHtcbiAgZWRpdFByb2ZpbGVQb3B1cC5zZXRJbnB1dFZhbHVlcyh1c2VySW5mby5nZXRVc2VySW5mbygpKTtcbiAgZm9ybVZhbGlkYXRvcnNbcHJvZmlsZUVkaXRGb3JtLmdldEF0dHJpYnV0ZSgnbmFtZScpXS5kaXNhYmxlQnV0dG9uKCk7XG4gIGVkaXRQcm9maWxlUG9wdXAub3BlbigpO1xufSk7XG5cbmNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKCkgPT4ge1xuICBmb3JtVmFsaWRhdG9yc1thZGRDYXJkRm9ybS5nZXRBdHRyaWJ1dGUoJ25hbWUnKV0uZGlzYWJsZUJ1dHRvbigpO1xuICBhZGRDYXJkUG9wdXAub3BlbigpO1xufSk7XG5cbmNvbnN0IGVkaXRBdmF0YXJJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1pbWFnZVwiKTtcbmVkaXRBdmF0YXJJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbZWRpdEF2YXRhckZvcm0uZ2V0QXR0cmlidXRlKCduYW1lJyldLmRpc2FibGVCdXR0b24oKTtcbiAgZWRpdEF2YXRhclBvcHVwLm9wZW4oKTtcbn0pXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7YmFzZVVybCwgaGVhZGVyc30pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIF9yZXF1ZXN0KHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiBmZXRjaCh1cmwsIG9wdGlvbnMpXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KTtcbiAgfVxuXG4gIGFkZENhcmQoZGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSk7XG4gIH1cblxuICBsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBpc0xpa2VkOiB0cnVlXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICB1bmxpa2VDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlUHJvZmlsZUluZm8oZGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGFib3V0OiBkYXRhLmFib3V0XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICB1cGRhdGVBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBkYXRhLmF2YXRhclxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlQ29uZmlybSB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fY29uZmlybUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XG4gICAgdGhpcy5faGFuZGxlQ29uZmlybSA9IGhhbmRsZUNvbmZpcm07XG4gIH1cblxuXG4gIG9wZW4oY2FyZCwgY2FyZElkKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xuICAgIHRoaXMuX2NhcmRJZCA9IGNhcmRJZDtcbiAgfVxuXG4gIFxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fY29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ29uZmlybSh0aGlzLl9jYXJkLCB0aGlzLl9jYXJkSWQpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0pXG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2ltYWdlRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcbiAgICB0aGlzLl9pbWFnZUNhcHRpb24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLnBvcHVwX19oZWFkaW5nX3R5cGVfcHJldmlldy1pbWFnZVwiXG4gICAgKTtcbiAgfVxuXG4gIFxuICBvcGVuKGRhdGEpIHtcbiAgICB0aGlzLl9pbWFnZUNhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LnNyYyA9IGRhdGEubGluaztcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuYWx0ID0gYFBob3RvIG9mICR7ZGF0YS5uYW1lfWA7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3Ioe3JlbmRlcmVyfSwgc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfVxuXG4gIFxuICByZW5kZXJJdGVtcyhkYXRhKSB7XG4gICAgZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgYWRkSXRlbShpdGVtKSB7XG4gICAgdGhpcy5fZWxlbWVudC5wcmVwZW5kKGl0ZW0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yICwgYWJvdXRNZVNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fYWJvdXRNZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFib3V0TWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpXG4gIH1cblxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIGNvbnN0IHVzZXJJbmZvID0ge25hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LCBhYm91dDogdGhpcy5fYWJvdXRNZUVsZW1lbnQudGV4dENvbnRlbnQsIGF2YXRhcjogdGhpcy5fYXZhdGFyRWxlbWVudC5zcmN9O1xuICAgIHJldHVybiB1c2VySW5mbztcbiAgfVxuXG4gIFxuICBzZXRVc2VySW5mbyh7bmFtZSwgYWJvdXQsIGF2YXRhcn0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fYWJvdXRNZUVsZW1lbnQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9IGF2YXRhcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjYXJkU2VsZWN0b3IiLCJkYXRhIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZSIsImNvbmZpcm1Qb3B1cCIsImFwaSIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfaWQiLCJfaXNMaWtlZCIsImlzTGlrZWQiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGUiLCJfY29uZmlybVBvcHVwIiwiX2FwaSIsIl9jYXJkU2VsZWN0b3IiLCJfZ2V0VGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2V0SWQiLCJyZW1vdmVDYXJkIiwiX2NhcmRFbGVtZW50IiwicmVtb3ZlIiwiX2hhbmRsZUxpa2VJY29uIiwiX2xpa2VCdXR0b24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJsaWtlQ2FyZCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwidW5saWtlQ2FyZCIsIl9zZXRMaWtlIiwiYWRkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9iaW5JY29uIiwiX2NhcmRJbWFnZSIsImdlbmVyYXRlQ2FyZCIsIl9jYXJkRGVzY3JpcHRpb24iLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwib3BlbiIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9zdWJtaXRCdXR0b24iLCJfc3VibWl0QnV0dG9uVGV4dCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJyZXNldCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwiZm9yRWFjaCIsInByZXZlbnREZWZhdWx0IiwidGhlbiIsImZpbmFsbHkiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJBcnJheSIsImZyb20iLCJfYnV0dG9uRWxlbWVudCIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsIl9lbmFibGVCdXR0b24iLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzb21lIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByb2ZpbGVFZGl0Rm9ybSIsImZvcm1zIiwiYWRkQ2FyZEZvcm0iLCJlZGl0QXZhdGFyRm9ybSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9yZXF1ZXN0IiwidXJsIiwib3B0aW9ucyIsImZldGNoIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0VXNlckluZm8iLCJtZXRob2QiLCJhZGRDYXJkIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwiZ2V0SW5pdGlhbENhcmRzIiwidXBkYXRlUHJvZmlsZUluZm8iLCJhYm91dCIsInVwZGF0ZUF2YXRhciIsImF2YXRhciIsImF1dGhvcml6YXRpb24iLCJjYXRjaEVycm9yIiwiZGVsZXRlQ2FyZFBvcHVwIiwiaGFuZGxlQ29uZmlybSIsIl9jb25maXJtQnV0dG9uIiwiX2hhbmRsZUNvbmZpcm0iLCJjYXJkIiwiX2NhcmQiLCJfY2FyZElkIiwic3VibWl0QWN0aW9uIiwicmVuZGVyQ2FyZCIsImNhcmRFbGVtZW50IiwiaW1nRGF0YSIsImNhcmRQcmV2aWV3UG9wdXAiLCJjYXJkU2VjdGlvbiIsImFkZEl0ZW0iLCJfaW1hZ2VFbGVtZW50IiwiX2ltYWdlQ2FwdGlvbiIsInNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfZWxlbWVudCIsInJlbmRlckl0ZW1zIiwiaXRlbSIsInByZXBlbmQiLCJ1c2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImFib3V0TWVTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2Fib3V0TWVFbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJzZXRVc2VySW5mbyIsIl9yZWYyIiwiYWxsIiwidXNlckRhdGEiLCJjYXJkcyIsInJldmVyc2UiLCJlZGl0UHJvZmlsZVBvcHVwIiwiYWRkQ2FyZFBvcHVwIiwiZWRpdEF2YXRhclBvcHVwIiwiZm9ybVZhbGlkYXRvcnMiLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSJdLCJzb3VyY2VSb290IjoiIn0=