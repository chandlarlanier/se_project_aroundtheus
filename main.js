!function(){"use strict";var e={d:function(t,s){for(var r in s)e.o(s,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:s[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};e.d({},{hi:function(){return u},KQ:function(){return l}});class t{constructor(e,t){let{data:s,handleImageClick:r,handleDelete:i,confirmPopup:n,api:o}=e;this._name=s.name,this._link=s.link,this._id=s._id,this._isLiked=s.isLiked,this._handleImageClick=r,this._handleDelete=i,this._confirmPopup=n,this._api=o,this._cardSelector=t}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getId(){return this._id}removeCard(){this._cardElement.remove(),this._cardElement=null}_handleLikeIcon(){this._likeButton.classList.toggle("card__like-button_active"),this._cardElement.querySelector(".card__like-button_active")?this._api.likeCard(this.getId()).catch((e=>{console.error(e)})):this._api.unlikeCard(this.getId()).catch((e=>{console.error(e)}))}_setLike(){this._isLiked&&this._likeButton.classList.add("card__like-button_active")}_setEventListeners(){this._likeButton.addEventListener("click",(()=>this._handleLikeIcon())),this._binIcon.addEventListener("click",(()=>{this._handleDelete(this,this.getId())})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick({link:this._link,name:this._name})}))}generateCard(){return this._cardElement=this._getTemplate(),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._binIcon=this._cardElement.querySelector(".card__delete-button"),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardDescription=this._cardElement.querySelector(".card__description"),this._setEventListeners(),this._setLike(),this._cardImage.src=this._link,this._cardImage.alt=`Photo of ${this._name}`,this._cardDescription.textContent=this._name,this._cardElement}}class s{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}_handleEscClose(e){"Escape"==e.key&&this.close()}setEventListeners(){this._popupElement.querySelector(".popup__close-button").addEventListener("mousedown",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{e.target.classList.contains("popup")&&this.close()}))}}class r extends s{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".popup__form"),this._submitButton=this._popupElement.querySelector(".popup__button"),this._submitButtonText=this._submitButton.textContent,this._handleFormSubmit=t,this._inputList=[...this._popupForm.querySelectorAll(".popup__input")]}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=e?t:this._submitButtonText}close(){super.close(),this._popupForm.reset()}_getInputValues(){const e={};for(const t of this._inputList)e[t.name]=t.value;return e}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this.renderLoading(!0),this._handleFormSubmit(this._getInputValues()).then((()=>{this.close()})).finally((()=>{this.renderLoading(!1)}))}))}}class i{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}_showInputError(e,t){const s=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),s.textContent=t,s.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}disableButton(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0}_enableButton(){this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1}toggleButtonState(){this._hasInvalidInput()?this.disableButton():this._enableButton()}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}document.querySelector(".profile__title"),document.querySelector(".profile__description"),document.querySelector(".popup__input_type_name"),document.querySelector(".popup__input_type_description");const n=document.forms["popup__form_type_edit-profile"],o=document.forms["popup__form_type_add-card"],a=document.forms["popup__form_type_edit-avatar"];function l(e){console.error(e)}const u=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_request(e,t){return fetch(e,t).then(this._checkResponse)}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getUserInfo(){return this._request(`${this._baseUrl}/users/me`,{method:"GET",headers:this._headers})}addCard(e){return this._request(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify(e)})}deleteCard(e){return this._request(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers})}likeCard(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers,body:JSON.stringify({isLiked:!0})})}unlikeCard(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers})}getInitialCards(){return this._request(`${this._baseUrl}/cards`,{method:"GET",headers:this._headers})}updateProfileInfo(e){return this._request(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})})}updateAvatar(e){return this._request(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"9ef0145a-4550-4d8d-9dc2-252c6d573e29","content-type":"application/json"}}),_=new class extends s{constructor(e){let{popupSelector:t}=e;super(t),this._confirmButton=this._popupElement.querySelector(".popup__button")}setSubmitAction(e){this._submitAction=e}open(e,t){super.open(),this._card=e,this._cardId=t}setEventListeners(){super.setEventListeners(),this.setSubmitAction((()=>{u.deleteCard(this._cardId).then((()=>{this._card.removeCard(),this.close()})).catch(l)})),this._confirmButton.addEventListener("click",this._submitAction)}}({popupSelector:".popup_type_delete-card"}),c=e=>{const s=new t({data:e,handleImageClick:e=>{d.open(e)},handleDelete:(e,t)=>{_.open(e,t)},confirmPopup:_,api:u},".card-template");h.addItem(s.generateCard())},d=new class extends s{constructor(e){super(e),this._imageElement=this._popupElement.querySelector(".popup__image"),this._imageCaption=this._popupElement.querySelector(".popup__heading_type_preview-image")}open(e){this._imageCaption.textContent=e.name,this._imageElement.src=e.link,this._imageElement.alt=`Photo of ${e.name}`,super.open()}}(".popup_type_preview-image"),h=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._element=document.querySelector(t)}renderItems(e){e.forEach((e=>{this._renderer(e)}))}addItem(e){this._element.prepend(e)}}({renderer:c},".cards__list");Promise.all([u.getUserInfo(),u.getInitialCards()]).then((e=>{let[t,s]=e;p.setUserInfo(t),h.renderItems(s.reverse())})).catch(l);const p=new class{constructor(e){let{nameSelector:t,aboutMeSelector:s,avatarSelector:r}=e;this._nameElement=document.querySelector(t),this._aboutMeElement=document.querySelector(s),this._avatarElement=document.querySelector(r)}getUserInfo(){return{name:this._nameElement.textContent,about:this._aboutMeElement.textContent,avatar:this._avatarElement.src}}setUserInfo(e){let{name:t,about:s,avatar:r}=e;this._nameElement.textContent=t,this._aboutMeElement.textContent=s,this._avatarElement.src=r}}({nameSelector:".profile__title",aboutMeSelector:".profile__description",avatarSelector:".profile__image"}),m=new r(".popup_type_edit-profile",(e=>u.updateProfileInfo(e).then((()=>{p.setUserInfo(e)})).catch(l))),E=new r(".popup_type_add-card",(e=>u.addCard(e).then((e=>{c(e)})).catch(l))),b=new r(".popup_type_edit-avatar",(e=>u.updateAvatar(e).then((e=>{p.setUserInfo(e)})).catch(l))),v={};var f;f={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(f.formSelector)).forEach((e=>{const t=new i(f,e),s=e.getAttribute("name");v[s]=t,t.enableValidation()})),d.setEventListeners(),m.setEventListeners(),b.setEventListeners(),E.setEventListeners(),_.setEventListeners(),document.querySelector(".profile__edit-button").addEventListener("mousedown",(()=>{m.setInputValues(p.getUserInfo()),v[n.getAttribute("name")].disableButton(),m.open()})),document.querySelector(".profile__add-button").addEventListener("mousedown",(()=>{v[o.getAttribute("name")].disableButton(),E.open()})),document.querySelector(".profile__edit-image").addEventListener("mousedown",(()=>{v[a.getAttribute("name")].disableButton(),b.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBWTZHLGFBQWEsUUFFMUNKLEVBQWVHLEdBQVlELEVBQzNCQSxFQUFVNUUsa0JBQWtCLElBU2hDOEMsRUFBaUIzRyxvQkFDakJvSSxFQUFpQnBJLG9CQUNqQnNJLEVBQWdCdEksb0JBQ2hCcUksRUFBYXJJLG9CQUNiZ0csRUFBZ0JoRyxvQkFLVXRDLFNBQVNDLGNBQWMseUJBQy9Cb0IsaUJBQWlCLGFBQWEsS0FDOUNxSixFQUFpQjdHLGVBQWVtRyxFQUFTeEMsZUFDekNxRCxFQUFlekUsRUFBZ0I2RSxhQUFhLFNBQVNwRixnQkFDckQ2RSxFQUFpQnhJLE1BQU0sSUFHSGxDLFNBQVNDLGNBQWMsd0JBQy9Cb0IsaUJBQWlCLGFBQWEsS0FDMUN3SixFQUFldkUsRUFBWTJFLGFBQWEsU0FBU3BGLGdCQUNqRDhFLEVBQWF6SSxNQUFNLElBR0dsQyxTQUFTQyxjQUFjLHdCQUMvQm9CLGlCQUFpQixhQUFhLEtBQzVDd0osRUFBZXRFLEVBQWUwRSxhQUFhLFNBQVNwRixnQkFDcEQrRSxFQUFnQjFJLE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wcmFjdGljdW0vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3ByYWN0aWN1bS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgaGFuZGxlSW1hZ2VDbGljaywgaGFuZGxlRGVsZXRlLCBjb25maXJtUG9wdXAsIGFwaSB9LCBjYXJkU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9pc0xpa2VkID0gZGF0YS5pc0xpa2VkO1xuXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG5cbiAgICB0aGlzLl9oYW5kbGVEZWxldGUgPSBoYW5kbGVEZWxldGU7XG5cbiAgICB0aGlzLl9jb25maXJtUG9wdXAgPSBjb25maXJtUG9wdXA7XG5cbiAgICB0aGlzLl9hcGkgPSBhcGk7XG5cbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgZ2V0SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkO1xuICB9XG5cbiAgcmVtb3ZlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBfaGFuZGxlTGlrZUljb24oKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIGlmICh0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKSkge1xuICAgICAgdGhpcy5fYXBpLmxpa2VDYXJkKHRoaXMuZ2V0SWQoKSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2FwaS51bmxpa2VDYXJkKHRoaXMuZ2V0SWQoKSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgX3NldExpa2UoKSB7XG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9XG4gIH1cblxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlSWNvbigpKTtcbiAgICB0aGlzLl9iaW5JY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGUodGhpcywgdGhpcy5nZXRJZCgpKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7IGxpbms6IHRoaXMuX2xpbmssIG5hbWU6IHRoaXMuX25hbWUgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gICAgdGhpcy5fYmluSWNvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcmREZXNjcmlwdGlvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVzY3JpcHRpb25cIik7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3NldExpa2UoKTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSBgUGhvdG8gb2YgJHt0aGlzLl9uYW1lfWA7XG4gICAgdGhpcy5fY2FyZERlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25UZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIildO1xuICB9XG5cbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0PVwiU2F2aW5nLi4uXCIpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uVGV4dDtcbiAgICB9XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG4gICAgZm9yIChjb25zdCBpbnB1dCBvZiB0aGlzLl9pbnB1dExpc3QpIHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcbiAgICB9KVxuICB9XG5cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfSlcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yXG4gICAgICAoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcblxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JcbiAgICAgIChgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIGRpc2FibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgX2VuYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9O1xufTtcbiIsImV4cG9ydCBjb25zdCBFU0NfS0VZQ09ERSA9IDI3O1xuXG5leHBvcnQgY29uc3QgdXNlck5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKTtcbmV4cG9ydCBjb25zdCB1c2VySm9iRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IGFib3V0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF90eXBlX2Rlc2NyaXB0aW9uXCIpO1xuXG4vLyBTZWxlY3RvcnNcbmV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XG4gIGNhcmRMaXN0OiBcIi5jYXJkc19fbGlzdFwiLFxuICBjYXJkVGVtcGxhdGU6IFwiLmNhcmQtdGVtcGxhdGVcIixcbiAgcHJldmlld1BvcHVwOiBcIi5wb3B1cF90eXBlX3ByZXZpZXctaW1hZ2VcIixcbiAgZWRpdFByb2ZpbGVQb3B1cDogXCIucG9wdXBfdHlwZV9lZGl0LXByb2ZpbGVcIixcbiAgZWRpdEF2YXRhclBvcHVwOiBcIi5wb3B1cF90eXBlX2VkaXQtYXZhdGFyXCIsXG4gIGFkZENhcmRQb3B1cDogXCIucG9wdXBfdHlwZV9hZGQtY2FyZFwiLFxuICBkZWxldGVDYXJkUG9wdXA6IFwiLnBvcHVwX3R5cGVfZGVsZXRlLWNhcmRcIixcbiAgbmFtZUVsZW1lbnQ6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gIGRlc2NyaXB0aW9uRWxlbWVudDogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcbiAgYXZhdGFyRWxlbWVudDogXCIucHJvZmlsZV9faW1hZ2VcIlxufVxuXG4vLyBWYWxpZGF0aW9uIFNldHRpbmdzXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cblxuLy8gRm9ybXNcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcInBvcHVwX19mb3JtX3R5cGVfZWRpdC1wcm9maWxlXCJdO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwb3B1cF9fZm9ybV90eXBlX2FkZC1jYXJkXCJdO1xuZXhwb3J0IGNvbnN0IGVkaXRBdmF0YXJGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwb3B1cF9fZm9ybV90eXBlX2VkaXQtYXZhdGFyXCJdO1xuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHsgc2VsZWN0b3JzLCB2YWxpZGF0aW9uU2V0dGluZ3MsIHByb2ZpbGVFZGl0Rm9ybSwgYWRkQ2FyZEZvcm0sIGVkaXRBdmF0YXJGb3JtIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb25cIjtcblxuXG4vLyBDYXRjaCBlcnJvciBmdW5jdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGNhdGNoRXJyb3IoZXJyKSB7XG4gIGNvbnNvbGUuZXJyb3IoZXJyKTtcbn1cblxuXG5cbi8vIEluaXRpYWxpemUgYXBpXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiOWVmMDE0NWEtNDU1MC00ZDhkLTlkYzItMjUyYzZkNTczZTI5XCIsXG4gICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgfVxufSk7XG5cblxuXG4vLyBjcmVhdGUgZGVsZXRlIGNhcmQgcG9wdXBcbmNvbnN0IGRlbGV0ZUNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oe1xuICBwb3B1cFNlbGVjdG9yOiBzZWxlY3RvcnMuZGVsZXRlQ2FyZFBvcHVwXG59KTtcblxuXG5cbi8vIENhcmQgcmVuZGVyZXIgZnVuY3Rpb25cbmNvbnN0IHJlbmRlckNhcmQgPSAoZGF0YSkgPT4ge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKFxuICAgIHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBoYW5kbGVJbWFnZUNsaWNrOiAoaW1nRGF0YSkgPT4ge1xuICAgICAgICBjYXJkUHJldmlld1BvcHVwLm9wZW4oaW1nRGF0YSk7XG4gICAgICB9LFxuICAgICAgaGFuZGxlRGVsZXRlOiAoY2FyZCwgY2FyZElkKSA9PiB7XG4gICAgICAgIGRlbGV0ZUNhcmRQb3B1cC5vcGVuKGNhcmQsIGNhcmRJZCk7XG4gICAgICB9LFxuICAgICAgY29uZmlybVBvcHVwOiBkZWxldGVDYXJkUG9wdXAsXG4gICAgICBhcGk6IGFwaVxuICAgIH0sXG4gICAgc2VsZWN0b3JzLmNhcmRUZW1wbGF0ZVxuICApO1xuICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50LmdlbmVyYXRlQ2FyZCgpKTtcbn1cblxuXG5cbi8vIENyZWF0ZSBjYXJkIGFuZCBjYXJkIGltYWdlIHBvcHVwIGluc3RhbmNlc1xuZXhwb3J0IGNvbnN0IGNhcmRQcmV2aWV3UG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoc2VsZWN0b3JzLnByZXZpZXdQb3B1cCk7XG5leHBvcnQgY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbih7IHJlbmRlcmVyOiByZW5kZXJDYXJkIH0sIHNlbGVjdG9ycy5jYXJkTGlzdCk7XG5cblxuXG4vLyBHZXQgaW5pdGlhbCB1c2VyIGRhdGEgYW5kIGNhcmRzXG4gUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxuICAudGhlbigoW3VzZXJEYXRhLCBjYXJkc10pID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XG4gICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoY2FyZHMucmV2ZXJzZSgpKTtcbiAgfSlcbiAgLmNhdGNoKGNhdGNoRXJyb3IpO1xuXG5cblxuLy8gQ3JlYXRlIHVzZXIgaW5mbyBjbGFzc1xuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe25hbWVTZWxlY3Rvcjogc2VsZWN0b3JzLm5hbWVFbGVtZW50LCBhYm91dE1lU2VsZWN0b3I6IHNlbGVjdG9ycy5kZXNjcmlwdGlvbkVsZW1lbnQsIGF2YXRhclNlbGVjdG9yOiBzZWxlY3RvcnMuYXZhdGFyRWxlbWVudH0pO1xuXG5cblxuLy8gQ3JlYXRlIHBvcHVwcyB3aXRoIGZvcm1zXG5jb25zdCBlZGl0UHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oc2VsZWN0b3JzLmVkaXRQcm9maWxlUG9wdXAsIChkYXRhKSA9PiB7XG4gIHJldHVybiBhcGkudXBkYXRlUHJvZmlsZUluZm8oZGF0YSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICB9KVxuICAgIC5jYXRjaChjYXRjaEVycm9yKTtcbn0pO1xuXG5jb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMuYWRkQ2FyZFBvcHVwLCAoZGF0YSkgPT4ge1xuICByZXR1cm4gYXBpLmFkZENhcmQoZGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICByZW5kZXJDYXJkKHJlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goY2F0Y2hFcnJvcik7XG59KTtcblxuY29uc3QgZWRpdEF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oc2VsZWN0b3JzLmVkaXRBdmF0YXJQb3B1cCwgKGRhdGEpID0+IHtcbiAgcmV0dXJuIGFwaS51cGRhdGVBdmF0YXIoZGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNhdGNoRXJyb3IpO1xufSk7XG5cblxuXG4vLyBGb3JtIHZhbGlkYXRvcnNcbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XG5cbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKVxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpO1xuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG5cbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSlcbn1cblxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uU2V0dGluZ3MpO1xuXG5cblxuLy8gSW5pdGlhbGl6ZSBwb3B1cHNcbmNhcmRQcmV2aWV3UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmVkaXRQcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmVkaXRBdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuYWRkQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5kZWxldGVDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG5cbi8vIEFkZCBldmVudCBsaXN0ZW5lcnMgdG8gYnV0dG9ucyBhbmQgcHJvZmlsZSBpbWFnZVxuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoKSA9PiB7XG4gIGVkaXRQcm9maWxlUG9wdXAuc2V0SW5wdXRWYWx1ZXModXNlckluZm8uZ2V0VXNlckluZm8oKSk7XG4gIGZvcm1WYWxpZGF0b3JzW3Byb2ZpbGVFZGl0Rm9ybS5nZXRBdHRyaWJ1dGUoJ25hbWUnKV0uZGlzYWJsZUJ1dHRvbigpO1xuICBlZGl0UHJvZmlsZVBvcHVwLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBhZGRDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbYWRkQ2FyZEZvcm0uZ2V0QXR0cmlidXRlKCduYW1lJyldLmRpc2FibGVCdXR0b24oKTtcbiAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBlZGl0QXZhdGFySW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtaW1hZ2VcIik7XG5lZGl0QXZhdGFySW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoKSA9PiB7XG4gIGZvcm1WYWxpZGF0b3JzW2VkaXRBdmF0YXJGb3JtLmdldEF0dHJpYnV0ZSgnbmFtZScpXS5kaXNhYmxlQnV0dG9uKCk7XG4gIGVkaXRBdmF0YXJQb3B1cC5vcGVuKCk7XG59KVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Ioe2Jhc2VVcmwsIGhlYWRlcnN9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBfcmVxdWVzdCh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZmV0Y2godXJsLCBvcHRpb25zKVxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSk7XG4gIH1cblxuICBhZGRDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pO1xuICB9XG5cbiAgbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgaXNMaWtlZDogdHJ1ZVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgdW5saWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZVByb2ZpbGVJbmZvKGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBhYm91dDogZGF0YS5hYm91dFxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlQXZhdGFyKGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXJcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbmltcG9ydCB7IGFwaSwgY2F0Y2hFcnJvciB9IGZyb20gXCIuLi9wYWdlcy9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fY29uZmlybUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XG4gIH1cblxuICBzZXRTdWJtaXRBY3Rpb24oc3VibWl0QWN0aW9uKSB7XG4gICAgdGhpcy5fc3VibWl0QWN0aW9uID0gc3VibWl0QWN0aW9uO1xuICB9XG5cbiAgb3BlbihjYXJkLCBjYXJkSWQpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgdGhpcy5fY2FyZCA9IGNhcmQ7XG4gICAgdGhpcy5fY2FyZElkID0gY2FyZElkO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcbiAgICAgIGFwaS5kZWxldGVDYXJkKHRoaXMuX2NhcmRJZClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX2NhcmQucmVtb3ZlQ2FyZCgpO1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGNhdGNoRXJyb3IpXG4gICAgfSk7XG5cbiAgICB0aGlzLl9jb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9zdWJtaXRBY3Rpb24pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XG4gICAgdGhpcy5faW1hZ2VDYXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5wb3B1cF9faGVhZGluZ190eXBlX3ByZXZpZXctaW1hZ2VcIlxuICAgICk7XG4gIH1cblxuICBvcGVuKGRhdGEpIHtcbiAgICB0aGlzLl9pbWFnZUNhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LnNyYyA9IGRhdGEubGluaztcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuYWx0ID0gYFBob3RvIG9mICR7ZGF0YS5uYW1lfWA7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3Ioe3JlbmRlcmVyfSwgc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKGRhdGEpIHtcbiAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShpdGVtKSB7XG4gICAgdGhpcy5fZWxlbWVudC5wcmVwZW5kKGl0ZW0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yICwgYWJvdXRNZVNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fYWJvdXRNZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFib3V0TWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpXG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICBjb25zdCB1c2VySW5mbyA9IHtuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCwgYWJvdXQ6IHRoaXMuX2Fib3V0TWVFbGVtZW50LnRleHRDb250ZW50LCBhdmF0YXI6IHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjfTtcbiAgICByZXR1cm4gdXNlckluZm87XG4gIH1cblxuICBzZXRVc2VySW5mbyh7bmFtZSwgYWJvdXQsIGF2YXRhcn0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fYWJvdXRNZUVsZW1lbnQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9IGF2YXRhcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiQ2FyZCIsImNvbnN0cnVjdG9yIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImRhdGEiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlIiwiY29uZmlybVBvcHVwIiwiYXBpIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9pZCIsIl9pc0xpa2VkIiwiaXNMaWtlZCIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZSIsIl9jb25maXJtUG9wdXAiLCJfYXBpIiwiX2NhcmRTZWxlY3RvciIsIl9nZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZXRJZCIsInJlbW92ZUNhcmQiLCJfY2FyZEVsZW1lbnQiLCJyZW1vdmUiLCJfaGFuZGxlTGlrZUljb24iLCJfbGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImxpa2VDYXJkIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJ1bmxpa2VDYXJkIiwiX3NldExpa2UiLCJhZGQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiX2Jpbkljb24iLCJfY2FyZEltYWdlIiwiZ2VuZXJhdGVDYXJkIiwiX2NhcmREZXNjcmlwdGlvbiIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJvcGVuIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfcG9wdXBGb3JtIiwiX3N1Ym1pdEJ1dHRvbiIsIl9zdWJtaXRCdXR0b25UZXh0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsInJlbmRlckxvYWRpbmciLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInJlc2V0IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwic2V0SW5wdXRWYWx1ZXMiLCJmb3JFYWNoIiwicHJldmVudERlZmF1bHQiLCJ0aGVuIiwiZmluYWxseSIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIkFycmF5IiwiZnJvbSIsIl9idXR0b25FbGVtZW50IiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiZGlzYWJsZUJ1dHRvbiIsImRpc2FibGVkIiwiX2VuYWJsZUJ1dHRvbiIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJlbmFibGVWYWxpZGF0aW9uIiwicHJvZmlsZUVkaXRGb3JtIiwiZm9ybXMiLCJhZGRDYXJkRm9ybSIsImVkaXRBdmF0YXJGb3JtIiwiY2F0Y2hFcnJvciIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9yZXF1ZXN0IiwidXJsIiwib3B0aW9ucyIsImZldGNoIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0VXNlckluZm8iLCJtZXRob2QiLCJhZGRDYXJkIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwiZ2V0SW5pdGlhbENhcmRzIiwidXBkYXRlUHJvZmlsZUluZm8iLCJhYm91dCIsInVwZGF0ZUF2YXRhciIsImF2YXRhciIsImF1dGhvcml6YXRpb24iLCJkZWxldGVDYXJkUG9wdXAiLCJfY29uZmlybUJ1dHRvbiIsInNldFN1Ym1pdEFjdGlvbiIsInN1Ym1pdEFjdGlvbiIsIl9zdWJtaXRBY3Rpb24iLCJjYXJkIiwiX2NhcmQiLCJfY2FyZElkIiwicmVuZGVyQ2FyZCIsImNhcmRFbGVtZW50IiwiaW1nRGF0YSIsImNhcmRQcmV2aWV3UG9wdXAiLCJjYXJkU2VjdGlvbiIsImFkZEl0ZW0iLCJfaW1hZ2VFbGVtZW50IiwiX2ltYWdlQ2FwdGlvbiIsInNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfZWxlbWVudCIsInJlbmRlckl0ZW1zIiwiaXRlbSIsInByZXBlbmQiLCJhbGwiLCJ1c2VyRGF0YSIsImNhcmRzIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInJldmVyc2UiLCJuYW1lU2VsZWN0b3IiLCJhYm91dE1lU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9hYm91dE1lRWxlbWVudCIsIl9hdmF0YXJFbGVtZW50IiwiX3JlZjIiLCJlZGl0UHJvZmlsZVBvcHVwIiwiYWRkQ2FyZFBvcHVwIiwiZWRpdEF2YXRhclBvcHVwIiwiZm9ybVZhbGlkYXRvcnMiLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSJdLCJzb3VyY2VSb290IjoiIn0=